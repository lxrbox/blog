# 复制链接功能使用指南

## 功能说明

为博客添加了简单的"复制链接"功能，读者可以一键复制文章链接。

## 功能特点

- ✅ 一键复制当前文章的完整 URL
- ✅ 复制成功后按钮变色并显示"已复制"
- ✅ 2秒后自动恢复原状
- ✅ 支持深色模式
- ✅ 移动端友好
- ✅ 简约黑白风格，与博客整体设计一致

## 使用方法

### 在文章中使用

在 Markdown 文件的任意位置添加：

```markdown
<CopyLink />
```

推荐放在文章末尾：

```markdown
## 总结

文章内容...

---

<CopyLink />
```

### 批量添加

已为所有现有文章添加了复制链接按钮。

如果以后有新文章需要添加，运行：

```bash
node scripts/add-share-component.cjs
```

## 测试

1. 启动开发服务器：
```bash
pnpm dev
```

2. 访问测试文章：`/posts/share-test.html`

3. 点击"复制链接"按钮

4. 粘贴到任意地方验证链接是否正确

## 自定义样式

如果想调整按钮样式，编辑 `src/.vuepress/components/CopyLink.vue`：

```vue
<style scoped>
.copy-link-button {
  padding: 0.75rem 1.5rem;  /* 调整内边距 */
  border-radius: 8px;        /* 调整圆角 */
  font-size: 0.95rem;        /* 调整字体大小 */
}
</style>
```

## 技术实现

- **组件**：Vue 3 单文件组件
- **API**：Clipboard API（带降级方案）
- **样式**：Scoped CSS，支持深色模式
- **响应式**：移动端自动适配

## 浏览器兼容性

- ✅ Chrome/Edge (最新版)
- ✅ Firefox (最新版)
- ✅ Safari (最新版)
- ✅ 移动端浏览器

对于不支持 Clipboard API 的旧浏览器，会自动使用降级方案。

## 文件结构

```
src/
├── .vuepress/
│   ├── components/
│   │   └── CopyLink.vue          # 复制链接组件
│   └── client.ts                 # 客户端配置（注册组件）
└── posts/
    └── *.md                      # 文章（末尾添加 <CopyLink />）
```

## 已处理的文章

✅ 13 篇文章已添加复制链接按钮：
- elasticsearch/ (1 篇)
- project/ (8 篇)
- tools/ (3 篇)
- 踩坑记录/ (1 篇)

## 新文章模板

使用 `.kiro/templates/blog-post.md` 模板创建新文章，已包含复制链接组件。

## 常见问题

### Q: 复制按钮在哪里显示？

A: 在文章末尾，通常在分割线下方。

### Q: 可以自定义按钮文字吗？

A: 可以，编辑 `CopyLink.vue` 中的 `text` 部分。

### Q: 如何移除某篇文章的复制按钮？

A: 删除文章中的 `<CopyLink />` 即可。

### Q: 复制失败怎么办？

A: 组件有降级方案，会自动尝试旧的复制方法。如果仍然失败，请检查浏览器权限。

## 效果预览

```
文章内容...

───────────────────────────

<CopyLink />

┌─────────────────────┐
│  🔗 复制链接         │
└─────────────────────┘

点击后：

┌─────────────────────┐
│  ✓ 已复制           │
└─────────────────────┘
```

## 与之前的分享功能对比

| 功能 | 复制链接 | 社交分享 |
|------|---------|---------|
| 复杂度 | 简单 | 复杂 |
| 依赖 | 无 | 需要配置多个平台 |
| 用户体验 | 一键复制 | 需要选择平台 |
| 适用场景 | 所有场景 | 社交媒体分享 |
| 推荐度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

## 总结

复制链接功能简单实用，满足大多数分享需求。用户可以：
1. 复制链接后粘贴到任何地方
2. 通过微信、QQ、邮件等任意方式分享
3. 无需依赖特定平台

这比复杂的社交分享按钮更灵活、更通用。
