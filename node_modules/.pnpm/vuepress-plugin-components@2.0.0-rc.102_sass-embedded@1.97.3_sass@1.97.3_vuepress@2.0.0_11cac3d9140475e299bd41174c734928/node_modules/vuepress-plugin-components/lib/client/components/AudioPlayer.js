import{isString as a,isArray as p}from"@vuepress/helper/client";import{PlyrLayout as n,VidstackPlayer as l}from"vidstack/global/player";import{defineComponent as y,shallowRef as c,h as m,onMounted as u,onBeforeUnmount as d}from"vue";import"vidstack/player/styles/base.css";import"vidstack/player/styles/plyr/theme.css";import"../styles/audio-player.scss";import{g as s}from"../getLink-DBmDl_2w.js";import"vuepress/client";var S=y({name:"AudioPlayer",props:{src:{type:[String,Array,Object],required:!0},tracks:Array,poster:String,thumbnails:String,title:String,player:{type:Object},layout:{type:Object}},setup(r){const o=c();let t=null;return u(async()=>{if(__VUEPRESS_SSR__)return;const i={target:o.value,crossOrigin:!0,poster:r.poster,title:r.title,...r.player,src:a(r.src)?s(r.src):p(r.src)?r.src.map(e=>a(e)?s(e):e):r.src,layout:new n({thumbnails:r.thumbnails,...r.layout})};r.tracks&&(i.tracks=r.tracks),t=await l.create(i),t.addEventListener("provider-change",()=>{t.provider?.type==="hls"&&HLS_JS_INSTALLED?t.provider.library=(()=>import("hls.js/dist/hls.min.js")):t.provider?.type==="dash"&&DASHJS_INSTALLED&&(t.provider.library=(()=>import("dashjs")))})}),d(()=>{t?.destroy()}),()=>m("div",{ref:o})}});export{S as default};
//# sourceMappingURL=AudioPlayer.js.map
